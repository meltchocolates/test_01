|              |                |              |                  |              |              |              | <設定例>                                                                                                                                                                                      |
|              |                |              |                  |              |              |              | Servlet 3.0以降の場合、web.xmlまたはweb-fragment.xmlに以下を設定する。                                                                                                                                       |
|              |                |              |                  |              |              |              | <session-config>                                                                                                                                                                           |
|              |                |              |                  |              |              |              |   <cookie-config>                                                                                                                                                                          |
|              |                |              |                  |              |              |              |     <tracking-mode>COOKIE</tracking-mode>                                                                                                                                                  |
|              |                |              |                  |              |              |              |     <http-only>true</http-only>                                                                                                                                                            |
|              |                |              |                  |              |              |              |   </cookie-config>                                                                                                                                                                         |
|              |                |              |                  |              |              |              | </session-config>                                                                                                                                                                          |
|              |                | 8            | Web API          |              |              |              | ブラウザからAPIを呼び出す必要がない場合には、ブラウザからAPIのURLに直接アクセスしても正常なレスポンスではなく、403（Forbidden）などのレスポンスを返すようにしている。                                                                                              |
|              |                |              | 　HTTPレスポンス       |              |              |              | （HTTPリクエストのヘッダーに、「X-Requested-With: XMLHttpRequest」がない場合は、ブラウザからのリクエストとみなす）                                                                                                                |
|              |                |              |                  |              |              |              |                                                                                                                                                                                            |
|              |                |              |                  |              |              |              | ※APIのエントリポイントのURLに、ブラウザで直接アクセスした場合、JSONのレスポンスに、セキュリティ上の問題があるJavaScriptコードが含まれていたとき、それが実行されてしまうという問題が起こりうる。JSONのレスポンスに対してJavaScriptのサニタイズを行うことは難しいため、この場合はブラウザからの直接アクセスを防ぐために、上記のヘッダーを使用する。 |
